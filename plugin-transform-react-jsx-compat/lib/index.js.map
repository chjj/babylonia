{"version":3,"names":["_helperPluginUtils","require","_helperBuilderReactJsx","_core","_default","exports","default","declare","api","assertVersion","name","manipulateOptions","_","parserOpts","plugins","push","visitor","helper","pre","state","callee","tagExpr","post","t","react","isCompatTag","tagName","call","callExpression","memberExpression","identifier","isLiteral","args","compat"],"sources":["../src/index.ts"],"sourcesContent":["import { declare } from \"@babel/helper-plugin-utils\";\nimport helper from \"@babel/helper-builder-react-jsx\";\nimport { types as t } from \"@babel/core\";\n\nexport default declare(api => {\n  api.assertVersion(\n    process.env.BABEL_8_BREAKING && process.env.IS_PUBLISH\n      ? PACKAGE_JSON.version\n      : 7,\n  );\n\n  return {\n    name: \"transform-react-jsx-compat\",\n\n    manipulateOptions(_, parserOpts) {\n      parserOpts.plugins.push(\"jsx\");\n    },\n\n    visitor: helper({\n      pre(state) {\n        state.callee = state.tagExpr;\n      },\n\n      post(state) {\n        if (t.react.isCompatTag(state.tagName)) {\n          state.call = t.callExpression(\n            t.memberExpression(\n              t.memberExpression(t.identifier(\"React\"), t.identifier(\"DOM\")),\n              state.tagExpr,\n              t.isLiteral(state.tagExpr),\n            ),\n            state.args,\n          );\n        }\n      },\n      compat: true,\n    }),\n  };\n});\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,sBAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAAyC,IAAAG,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAE1B,IAAAC,0BAAO,EAACC,GAAG,IAAI;EAC5BA,GAAG,CAACC,aAAa,CAGX,CACN,CAAC;EAED,OAAO;IACLC,IAAI,EAAE,4BAA4B;IAElCC,iBAAiBA,CAACC,CAAC,EAAEC,UAAU,EAAE;MAC/BA,UAAU,CAACC,OAAO,CAACC,IAAI,CAAC,KAAK,CAAC;IAChC,CAAC;IAEDC,OAAO,EAAE,IAAAC,8BAAM,EAAC;MACdC,GAAGA,CAACC,KAAK,EAAE;QACTA,KAAK,CAACC,MAAM,GAAGD,KAAK,CAACE,OAAO;MAC9B,CAAC;MAEDC,IAAIA,CAACH,KAAK,EAAE;QACV,IAAII,WAAC,CAACC,KAAK,CAACC,WAAW,CAACN,KAAK,CAACO,OAAO,CAAC,EAAE;UACtCP,KAAK,CAACQ,IAAI,GAAGJ,WAAC,CAACK,cAAc,CAC3BL,WAAC,CAACM,gBAAgB,CAChBN,WAAC,CAACM,gBAAgB,CAACN,WAAC,CAACO,UAAU,CAAC,OAAO,CAAC,EAAEP,WAAC,CAACO,UAAU,CAAC,KAAK,CAAC,CAAC,EAC9DX,KAAK,CAACE,OAAO,EACbE,WAAC,CAACQ,SAAS,CAACZ,KAAK,CAACE,OAAO,CAC3B,CAAC,EACDF,KAAK,CAACa,IACR,CAAC;QACH;MACF,CAAC;MACDC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;AACH,CAAC,CAAC"}