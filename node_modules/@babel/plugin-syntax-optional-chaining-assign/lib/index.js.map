{"version":3,"names":["_helperPluginUtils","require","_helperValidatorOption","v","OptionValidator","_default","exports","default","declare","api","options","assertVersion","validateTopLevelOptions","version","invariant","name","manipulateOptions","opts","parserOpts","plugins","push"],"sources":["../src/index.ts"],"sourcesContent":["import { declare } from \"@babel/helper-plugin-utils\";\nimport { OptionValidator } from \"@babel/helper-validator-option\";\n\nconst v = new OptionValidator(PACKAGE_JSON.name);\n\nexport interface Options {\n  version: \"2023-07\";\n}\n\nexport default declare((api, options: Options) => {\n  api.assertVersion(\n    process.env.BABEL_8_BREAKING && process.env.IS_PUBLISH\n      ? PACKAGE_JSON.version\n      : \"^7.23.0\",\n  );\n\n  v.validateTopLevelOptions(options, { version: \"version\" });\n  const { version } = options;\n  v.invariant(\n    version === \"2023-07\",\n    \"'.version' option required, representing the last proposal update. \" +\n      \"Currently, the only supported value is '2023-07'.\",\n  );\n\n  return {\n    name: \"syntax-optional-chaining-assign\",\n\n    manipulateOptions(opts, parserOpts) {\n      parserOpts.plugins.push([\"optionalChainingAssign\", { version }]);\n    },\n  };\n});\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,sBAAA,GAAAD,OAAA;AAEA,MAAME,CAAC,GAAG,IAAIC,sCAAe,gDAAkB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAMlC,IAAAC,0BAAO,EAAC,CAACC,GAAG,EAAEC,OAAgB,KAAK;EAChDD,GAAG,CAACE,aAAa,CAGX,SACN,CAAC;EAEDR,CAAC,CAACS,uBAAuB,CAACF,OAAO,EAAE;IAAEG,OAAO,EAAE;EAAU,CAAC,CAAC;EAC1D,MAAM;IAAEA;EAAQ,CAAC,GAAGH,OAAO;EAC3BP,CAAC,CAACW,SAAS,CACTD,OAAO,KAAK,SAAS,EACrB,qEAAqE,GACnE,mDACJ,CAAC;EAED,OAAO;IACLE,IAAI,EAAE,iCAAiC;IAEvCC,iBAAiBA,CAACC,IAAI,EAAEC,UAAU,EAAE;MAClCA,UAAU,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,wBAAwB,EAAE;QAAEP;MAAQ,CAAC,CAAC,CAAC;IAClE;EACF,CAAC;AACH,CAAC,CAAC"}